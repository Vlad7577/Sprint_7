# Sprint_7 / Тестирование API/  Учебный сервис «Яндекс.Самокат» — Автоматизированные тесты

## О проекте

Данный набор тестов автоматизирует проверку ключевых сценариев веб-приложения [Учебный сервис «Яндекс.Самокат»](https://qa-scooter.praktikum-services.ru/).
Документация - [ссылка](https://qa-scooter.praktikum-services.ru/docs/).

### Проверяемые сценарии

1. **Создание курьера**
   - Курьера можно создать
   - Можно создать курьера без имени
   - Нельзя создать двух одинаковых курьеров
   - Нельзя создать курьера без логина или пароля

2. **Логин курьера**
   - Курьер может авторизоваться
   - Курьер не может авторизоваться c неправильным логином (несуществующий пользователь) или паролем
   - Курьер не может авторизоваться без поля логина или пароля

3. **Создание заказа**
   - Создание заказа с любым выбором цвета самоката (можно указать один из цветов — BLACK или GREY, можно указать оба цвета, можно совсем не указывать цвет

4. **Список заказов**
   - Успешный запрос возвращает список заказов

5. **Удалить курьера**
   - Запрос на удаление курьера по существующему id курьера
   - Ошибка при отправке запроса на удаление курьера без id курьера
   - Запрос на удаление курьера с несуществующим id курьера

6. **Принять заказ**
   - Успешный запрос принять заказ
   - Если не передать id курьера, запрос вернёт ошибку
   - Если передать неверный id курьера, запрос вернёт ошибку
   - Если не передать id заказа, запрос вернёт ошибку
   - Если передать неверный id заказа, запрос вернёт ошибку

7. **Получить заказ по его номеру**
   - Успешный запрос возвращает объект с заказом
   - Запрос без номера заказа возвращает ошибку
   - Запрос с несуществующим заказом возвращает ошибку

## Структура проекта
  
**urls.py** — эндпоинты.  
**data.py** — тестовые данные.  
**generators.py** - генерация тестовых данных.  
**courier_methods.py** - методы для создания, логина, получения ID и удаления курьера через API.  
**order_methods.py** - методы для работы с заказом через API.  
**requirements.txt** - список зависимостей проекта, необходимых для запуска тестов.  
**.gitignore**  

**tests/** — папка с тестами по функциональным блокам:  
    - conftest.py — фикстуры Pytest.   
    - test_courier_create.py — тесты, проверяющие создание курьера.  
    - test_courier_login.py  — тесты, проверяющие авторизацию курьера.  
    - test_courier_delete.py  — тесты, проверяющие удаление курьера.  
    - test_get_orders.py — тесты, проверяющие получения заказа по номеру и списка заказов.    
    - test_order_accept.py  — тесты, проверяющие принятие заказа.    
    - test_order_create.py — тесты, проверяющие создание заказа.    

**allure-results/** — папка с результатами прогонов тестов для генерации Allure-отчёта.  


## Инструкция по запуску:

#### Установите зависимости:

> pip install -r requirements.txt</h>

#### Запустить все тесты и записать отчет:

> pytest --alluredir=./allure-results

### Посмотреть отчет по прогону, html

> allure serve ./allure-results

